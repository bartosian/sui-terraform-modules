{
    "id": 384929,
    "name": "[testnet] [validator] [my_validator] Low Consensus Proposal Rate {{#is_alert}}{{{comparator}}} {{threshold}}% ({{value}}%){{/is_alert}}{{#is_warning}}{{{comparator}}} {{warn_threshold}}% ({{value}}%){{/is_warning}}",
    "type": "query alert",
    "query": "avg(last_5m):avg:sui.validator.proposer_batch_latency.sum{service:validator,env:testnet,chain_id:4c78adac,name:my_validator}.as_rate() / avg:sui.validator.proposer_batch_latency.count{service:validator,env:testnet,chain_id:4c78adac,name:my_validator}.as_rate() > 1",
    "message": "{{!-- Warning Section --}}\n{{#is_warning}}\n\n{{override_priority 'P2'}}\n\n-------------------------------------------------\nğŸ”” *Warning*\n-------------------------------------------------\n\n\n*DETAILS:*\nâ€¢ ğŸ“ˆ *Metric:* validator_low_consensus_proposal_rate\nâ€¢ ğŸŒ *Service:* validator 'my_validator'\nâ€¢ ğŸš€ *Environment:* testnet\nâ€¢ ğŸš§ *Threshold:* 0.8 proposals/second\nâ€¢ ğŸ“‹ *Current Value:* {{eval \"round(value, 2)\"}} proposals/second\n\n_Note_: This may indicate a potential issue. Please review to ensure smooth operation.\n\n{{/is_warning}}\n\n{{!-- Warning Recovery Section --}}\n{{#is_warning_recovery}}\n\n-------------------------------------------------\nâœ… *Warning Recovery*\n-------------------------------------------------\n\n\n*DETAILS:*\nâ€¢ ğŸ“ˆ *Metric:* validator_low_consensus_proposal_rate\nâ€¢ ğŸŒ *Service:* validator 'my_validator'\nâ€¢ ğŸš€ *Environment:* testnet\nâ€¢ ğŸš§ *Threshold:* 0.8 proposals/second\nâ€¢ ğŸ“‹ *Current Value:* {{eval \"round(value, 2)\"}} proposals/second\n\n_Status:_ This is within acceptable parameters. No further immediate action required.\n{{/is_warning_recovery}}\n\n{{!-- Alert Section --}}\n{{#is_alert}}\n\n{{override_priority 'P1'}}\n\n-------------------------------------------------\nğŸš¨ *Alert*\n-------------------------------------------------\n\n\n*DETAILS:*\nâ€¢ ğŸ“ˆ *Metric:* validator_low_consensus_proposal_rate\nâ€¢ ğŸŒ *Service:* validator 'my_validator'\nâ€¢ ğŸš€ *Environment:* testnet\nâ€¢ ğŸš§ *Threshold:* 1 proposals/second\nâ€¢ ğŸ“‹ *Current Value:* {{eval \"round(value, 2)\"}} proposals/second\n\n_Action:_ Please investigate the cause of this increase.\n\n{{/is_alert}}\n\n{{!-- Alert Recovery Section --}}\n{{#is_alert_recovery}}\n\n-------------------------------------------------\nâœ… *Alert Recovery*\n-------------------------------------------------\n\n\n*DETAILS:*\nâ€¢ ğŸ“ˆ *Metric:* validator_low_consensus_proposal_rate\nâ€¢ ğŸŒ *Service:* validator 'my_validator'\nâ€¢ ğŸš€ *Environment:* testnet\nâ€¢ ğŸš§ *Threshold:* 1 proposals/second\nâ€¢ ğŸ“‹ *Current Value:* {{eval \"round(value, 2)\"}} proposals/second\n\n_Status:_ This is within acceptable parameters. No further immediate action required.\n{{/is_alert_recovery}}\n\n-------------------------------------------------\nğŸ•’ *Triggered at (UTC):* {{last_triggered_at}}",
    "tags": [
        "chain_id:4c78adac",
        "env:testnet",
        "name:my_validator",
        "service:validator"
    ],
    "options": {
        "escalation_message": "{{!-- Escalation Message --}}\n{{#is_renotify}}\n\n{{override_priority 'P1'}}\n\n-------------------------------------------------\nğŸš¨ *Alert Escalation*\n-------------------------------------------------\n\n\n*DETAILS:*\nâ€¢ ğŸ“ˆ *Metric:* validator_low_consensus_proposal_rate\nâ€¢ ğŸŒ *Service:* validator 'my_validator'\nâ€¢ ğŸš€ *Environment:* testnet\nâ€¢ ğŸš§ *Threshold:* 1 proposals/second\nâ€¢ ğŸ“‹ *Current Value:* {{eval \"round(value, 2)\"}} proposals/second\n\n_Status:_ This alert has escalated as the issue persists. Further investigation and immediate action may be required.\n\n{{/is_renotify}}\n\n-------------------------------------------------\nğŸ•’ *Triggered at (UTC):* {{last_triggered_at}}",
        "evaluation_delay": 300,
        "include_tags": true,
        "new_host_delay": 300,
        "no_data_timeframe": 15,
        "notification_preset_name": "hide_handles",
        "notify_no_data": true,
        "renotify_interval": 15,
        "renotify_occurrences": 2,
        "renotify_statuses": [
            "alert",
            "no data",
            "warn"
        ],
        "require_full_window": true,
        "thresholds": {
            "critical": 1,
            "warning": 0.8
        },
        "notify_audit": false,
        "silenced": {}
    },
    "priority": 1,
    "restricted_roles": null
}